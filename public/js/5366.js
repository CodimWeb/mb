"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5366],{5366:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var n=r(1385),o={key:0,class:"admin-dashboard__100 admin-event-edit"},a=(0,n.createElementVNode)("div",{class:"admin-dashboard__heading"},[(0,n.createElementVNode)("h1",null,"Редактирование события")],-1),s={class:"aui-form-group"},c=(0,n.createElementVNode)("p",null,"Название события",-1),l={class:"aui-form-group"},i=(0,n.createElementVNode)("p",null,"Slug события",-1),u={class:"aui-form-group"},d=(0,n.createElementVNode)("p",null,"Подкатегория события",-1),m=["value"],v={class:"aui-form-group"},p=(0,n.createElementVNode)("label",{for:"event-active"},"Включить событие",-1),g=(0,n.createElementVNode)("button",{type:"submit",class:"aui-button"},"Сохранить",-1);var f=r(7757),h=r.n(f);function k(e,t,r,n,o,a,s){try{var c=e[a](s),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){k(a,n,o,s,c,"next",e)}function c(e){k(a,n,o,s,c,"throw",e)}s(void 0)}))}}const V={components:{Errors:r(7634).Z},data:function(){return{event:{title:"",slug:"",subcategory_id:0,active:!0},errors:{message:"",list:[]},subcategories:[]}},methods:{saveChanges:function(){var e=this;return E(h().mark((function t(){var r,n,o,a;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.errors.list=[],t.prev=1,t.next=4,axios.post("/api/admin/event/edit/"+e.$route.params.id,e.event);case 4:r=t.sent,n=r.data,e.event=n,t.next=15;break;case 9:t.prev=9,t.t0=t.catch(1),o=t.t0.response.data.errors,a=t.t0.response.data.message,o&&(e.errors.list=o),a&&a.length&&(e.errors.message=a);case 15:case"end":return t.stop()}}),t,null,[[1,9]])})))()}},mounted:function(){var e=this;return E(h().mark((function t(){var r,n,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/admin/event/get/"+e.$route.params.id);case 2:return r=t.sent,n=r.data,e.event=n,e.event.active=1===e.event.active,t.next=8,axios.get("/api/admin/sub-category/list");case 8:o=t.sent,n=o.data,e.subcategories=n;case 11:case"end":return t.stop()}}),t)})))()}};const N=(0,r(3744).Z)(V,[["render",function(e,t,r,f,h,k){var E=(0,n.resolveComponent)("Errors");return h.event?((0,n.openBlock)(),(0,n.createElementBlock)("div",o,[a,(0,n.createVNode)(E,{errors:h.errors},null,8,["errors"]),(0,n.createElementVNode)("form",{method:"post",onSubmit:t[4]||(t[4]=(0,n.withModifiers)((function(){return k.saveChanges&&k.saveChanges.apply(k,arguments)}),["prevent"]))},[(0,n.createElementVNode)("div",s,[c,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",class:"aui-input","onUpdate:modelValue":t[0]||(t[0]=function(e){return h.event.title=e}),placeholder:"Название события"},null,512),[[n.vModelText,h.event.title]])]),(0,n.createElementVNode)("div",l,[i,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",class:"aui-input","onUpdate:modelValue":t[1]||(t[1]=function(e){return h.event.slug=e}),placeholder:"Slug события"},null,512),[[n.vModelText,h.event.slug]])]),(0,n.createElementVNode)("div",u,[d,(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.event.subcategory_id=e}),class:"aui-select"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(h.subcategories,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{value:e.id,key:e.id},(0,n.toDisplayString)(e.title),9,m)})),128))],512),[[n.vModelSelect,h.event.subcategory_id]])]),(0,n.createElementVNode)("div",v,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"checkbox",class:"aui-checkbox",id:"event-active","onUpdate:modelValue":t[3]||(t[3]=function(e){return h.event.active=e})},null,512),[[n.vModelCheckbox,h.event.active]]),p]),g],32)])):(0,n.createCommentVNode)("",!0)}]])},7634:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(1385),o={key:0},a={key:0,class:"aui-errors"},s={key:0},c={key:1};const l={props:["errors"],mounted:function(){}};const i=(0,r(3744).Z)(l,[["render",function(e,t,r,l,i,u){return r.errors?((0,n.openBlock)(),(0,n.createElementBlock)("div",o,[r.errors.message.length||r.errors.list.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[r.errors.message.length?((0,n.openBlock)(),(0,n.createElementBlock)("p",s,(0,n.toDisplayString)(r.errors.message),1)):(0,n.createCommentVNode)("",!0),r.errors.list?((0,n.openBlock)(),(0,n.createElementBlock)("ul",c,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.errors.list,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("li",null,(0,n.toDisplayString)(e[0]),1)})),256))])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)}]])}}]);