"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1222],{1222:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var n=r(1385),o={class:"admin-dashboard__100 admin-events-list"},s=(0,n.createElementVNode)("div",{class:"admin-dashboard__heading"},[(0,n.createElementVNode)("h1",null,"Редактирование меню")],-1),a={class:"aui-col-2"},l={class:"aui-form-group"},c=(0,n.createElementVNode)("p",null,"Название меню",-1),u={class:"aui-form-group"},i=(0,n.createElementVNode)("p",null,"Slug",-1),d=(0,n.createElementVNode)("button",{type:"submit",class:"aui-button"},"Сохранить",-1);var m=r(7757),p=r.n(m);function v(e,t,r,n,o,s,a){try{var l=e[s](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var s=e.apply(t,r);function a(e){v(s,n,o,a,l,"next",e)}function l(e){v(s,n,o,a,l,"throw",e)}a(void 0)}))}}const f={components:{Errors:r(7634).Z},data:function(){return{menu:{id:"",title:"",slug:""},errors:{message:"",list:[]}}},methods:{save:function(){var e=this;return h(p().mark((function t(){var r,n,o,s;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.errors.list=[],t.prev=1,t.next=4,axios.post("/api/admin/menu-list/edit/".concat(e.$route.params.id),e.menu);case 4:r=t.sent,n=r.data,e.menu=n,e.$router.push({path:"/admin/menu"}),e.$toast.success("Меню успешно сохранено",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),t.next=17;break;case 11:t.prev=11,t.t0=t.catch(1),o=t.t0.response.data.errors,s=t.t0.response.data.message,o&&(e.errors.list=o),s&&s.length&&(e.errors.message=s);case 17:case"end":return t.stop()}}),t,null,[[1,11]])})))()}},mounted:function(){var e=this;return h(p().mark((function t(){var r,n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/admin/menu-list/get/".concat(e.$route.params.id));case 2:r=t.sent,n=r.data,e.menu=n;case 5:case"end":return t.stop()}}),t)})))()}};const g=(0,r(3744).Z)(f,[["render",function(e,t,r,m,p,v){var h=(0,n.resolveComponent)("Errors");return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[s,(0,n.createVNode)(h,{errors:p.errors},null,8,["errors"]),(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("form",{method:"post",onSubmit:t[2]||(t[2]=(0,n.withModifiers)((function(){return v.save&&v.save.apply(v,arguments)}),["prevent"]))},[(0,n.createElementVNode)("div",l,[c,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",class:"aui-input",placeholder:"Название меню","onUpdate:modelValue":t[0]||(t[0]=function(e){return p.menu.title=e})},null,512),[[n.vModelText,p.menu.title]])]),(0,n.createElementVNode)("div",u,[i,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",class:"aui-input",placeholder:"Slug меню","onUpdate:modelValue":t[1]||(t[1]=function(e){return p.menu.slug=e})},null,512),[[n.vModelText,p.menu.slug]])]),d],32)])])])}]])},7634:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(1385),o={key:0},s={key:0,class:"aui-errors"},a={key:0},l={key:1};const c={props:["errors"],mounted:function(){}};const u=(0,r(3744).Z)(c,[["render",function(e,t,r,c,u,i){return r.errors?((0,n.openBlock)(),(0,n.createElementBlock)("div",o,[r.errors.message.length||r.errors.list.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[r.errors.message.length?((0,n.openBlock)(),(0,n.createElementBlock)("p",a,(0,n.toDisplayString)(r.errors.message),1)):(0,n.createCommentVNode)("",!0),r.errors.list?((0,n.openBlock)(),(0,n.createElementBlock)("ul",l,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.errors.list,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("li",null,(0,n.toDisplayString)(e[0]),1)})),256))])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)}]])}}]);