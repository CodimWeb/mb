"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[766],{8766:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var o=r(1385),n={class:"admin-dashboard__100 admin-category-create"},a=(0,o.createElementVNode)("div",{class:"admin-dashboard__heading"},[(0,o.createElementVNode)("h1",null,"Создать категорию")],-1),c={class:"aui-form-group"},s={class:"aui-form-group"},l={class:"aui-form-group"},i={class:"aui-form-group"},u=(0,o.createElementVNode)("label",{for:"active-category"}," Включить категорию ",-1),d=(0,o.createElementVNode)("button",{type:"submit",class:"aui-button"}," Сохранить ",-1);var p=r(7757),m=r.n(p);function g(e,t,r,o,n,a,c){try{var s=e[a](c),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(o,n)}const v={components:{Errors:r(7634).Z},data:function(){return{category:{title:"",description:"",slug:"",active:!0},errors:{message:"",list:[]}}},methods:{create:function(){var e,t=this;return(e=m().mark((function e(){var r,o,n,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.errors.list=[],e.prev=1,e.next=4,axios.post("/api/admin/category/create",t.category);case 4:r=e.sent,o=r.data,t.category=o,t.$toast.success("Категория успешно создана",{position:"bottom",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),t.$router.push({path:"/admin/categories"}),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(1),n=e.t0.response.data.errors,a=e.t0.response.data.message,n&&(t.errors.list=n),a&&a.length&&(t.errors.message=a),t.$toast.error("Ошибка при создании категории",{position:"bottom",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1});case 18:case"end":return e.stop()}}),e,null,[[1,11]])})),function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function c(e){g(a,o,n,c,s,"next",e)}function s(e){g(a,o,n,c,s,"throw",e)}c(void 0)}))})()}}};const h=(0,r(3744).Z)(v,[["render",function(e,t,r,p,m,g){var v=(0,o.resolveComponent)("Errors");return(0,o.openBlock)(),(0,o.createElementBlock)("div",n,[a,(0,o.createVNode)(v,{errors:m.errors},null,8,["errors"]),(0,o.createElementVNode)("form",{onSubmit:t[4]||(t[4]=(0,o.withModifiers)((function(){return g.create&&g.create.apply(g,arguments)}),["prevent"]))},[(0,o.createElementVNode)("div",c,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"aui-input","onUpdate:modelValue":t[0]||(t[0]=function(e){return m.category.title=e}),placeholder:"Название категории"},null,512),[[o.vModelText,m.category.title]])]),(0,o.createElementVNode)("div",s,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"aui-input","onUpdate:modelValue":t[1]||(t[1]=function(e){return m.category.description=e}),placeholder:"Описание категории"},null,512),[[o.vModelText,m.category.description]])]),(0,o.createElementVNode)("div",l,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"aui-input","onUpdate:modelValue":t[2]||(t[2]=function(e){return m.category.slug=e}),placeholder:"Slug"},null,512),[[o.vModelText,m.category.slug]])]),(0,o.createElementVNode)("div",i,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"checkbox",class:"aui-checkbox","onUpdate:modelValue":t[3]||(t[3]=function(e){return m.category.active=e}),id:"active-category"},null,512),[[o.vModelCheckbox,m.category.active]]),u]),d],32)])}]])},7634:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(1385),n={key:0},a={key:0,class:"aui-errors"},c={key:0},s={key:1};const l={props:["errors"],mounted:function(){}};const i=(0,r(3744).Z)(l,[["render",function(e,t,r,l,i,u){return r.errors?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[r.errors.message.length||r.errors.list.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",a,[r.errors.message.length?((0,o.openBlock)(),(0,o.createElementBlock)("p",c,(0,o.toDisplayString)(r.errors.message),1)):(0,o.createCommentVNode)("",!0),r.errors.list?((0,o.openBlock)(),(0,o.createElementBlock)("ul",s,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.errors.list,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("li",null,(0,o.toDisplayString)(e[0]),1)})),256))])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)}]])}}]);