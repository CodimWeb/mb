"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2059],{2059:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var o=r(1385),n={class:"admin-dashboard__100 admin-game-create"},s=(0,o.createElementVNode)("div",{class:"admin-dashboard__heading"},[(0,o.createElementVNode)("h1",null,"Добавить вопрос")],-1),a={class:"aui-form-group"},c=(0,o.createElementVNode)("p",null,"Вопрос",-1),l={class:"aui-form-group"},i=(0,o.createElementVNode)("p",null,"Ответ",-1),u={class:"aui-form-group"},d=(0,o.createElementVNode)("label",{for:"category-disabled"},"Включить вопрос",-1),m=(0,o.createElementVNode)("button",{type:"submit",class:"aui-button"}," Создать вопрос ",-1);var p=r(7757),v=r.n(p);function h(e,t,r,o,n,s,a){try{var c=e[s](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(o,n)}const g={components:{Errors:r(7634).Z},data:function(){return{question:{question:"",response:"",active:!0},errors:{message:"",list:[]}}},methods:{create:function(){var e,t=this;return(e=v().mark((function e(){var r,o,n,s;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.errors.list=[],e.prev=1,e.next=4,axios.post("/api/admin/question/create",t.question);case 4:r=e.sent,o=r.data,t.question=o,t.$toast.success("Вопрос успешно создан",{position:"bottom",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),t.$router.push({path:"/admin/questions"}),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(1),n=e.t0.response.data.errors,s=e.t0.response.data.message,n&&(t.errors.list=n),s&&s.length&&(t.errors.message=s),t.$toast.error("Ошибка при создании вопроса",{position:"bottom",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1});case 18:case"end":return e.stop()}}),e,null,[[1,11]])})),function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){h(s,o,n,a,c,"next",e)}function c(e){h(s,o,n,a,c,"throw",e)}a(void 0)}))})()}}};const k=(0,r(3744).Z)(g,[["render",function(e,t,r,p,v,h){var g=(0,o.resolveComponent)("Errors");return(0,o.openBlock)(),(0,o.createElementBlock)("div",n,[s,(0,o.createVNode)(g,{errors:v.errors},null,8,["errors"]),(0,o.createElementVNode)("form",{onSubmit:t[3]||(t[3]=(0,o.withModifiers)((function(){return h.create&&h.create.apply(h,arguments)}),["prevent"]))},[(0,o.createElementVNode)("div",a,[c,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"aui-input","onUpdate:modelValue":t[0]||(t[0]=function(e){return v.question.question=e}),placeholder:"Вопрос"},null,512),[[o.vModelText,v.question.question]])]),(0,o.createElementVNode)("div",l,[i,(0,o.withDirectives)((0,o.createElementVNode)("textarea",{type:"text",class:"aui-textarea","onUpdate:modelValue":t[1]||(t[1]=function(e){return v.question.response=e}),placeholder:"Ответ"},null,512),[[o.vModelText,v.question.response]])]),(0,o.createElementVNode)("div",u,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"checkbox",class:"aui-checkbox",id:"category-disabled","onUpdate:modelValue":t[2]||(t[2]=function(e){return v.question.active=e})},null,512),[[o.vModelCheckbox,v.question.active]]),d]),m],32)])}]])},7634:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(1385),n={key:0},s={key:0,class:"aui-errors"},a={key:0},c={key:1};const l={props:["errors"],mounted:function(){}};const i=(0,r(3744).Z)(l,[["render",function(e,t,r,l,i,u){return r.errors?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[r.errors.message.length||r.errors.list.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[r.errors.message.length?((0,o.openBlock)(),(0,o.createElementBlock)("p",a,(0,o.toDisplayString)(r.errors.message),1)):(0,o.createCommentVNode)("",!0),r.errors.list?((0,o.openBlock)(),(0,o.createElementBlock)("ul",c,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.errors.list,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("li",null,(0,o.toDisplayString)(e[0]),1)})),256))])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)}]])}}]);